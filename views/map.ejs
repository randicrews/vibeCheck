<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>vibeCheck</title>
  <link
  rel="icon"
  type="image/png"
  sizes="32x32"
  href="/imgs/favicon-32x32.png"
/>
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
  crossorigin="anonymous"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w=="
  crossorigin="anonymous"
/>
<link rel="stylesheet" href="/css/style.css" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.13.1/themes/base/jquery-ui.css">
</head>
<body class="map">

  <a href="/home">back</a>
  <a href="/logout">logout</a>

<div id="map"></div>
  <input type="text" name="name" placeholder="place of interest" id="autocomplete-input" name="autocomplete-input" type="text" class="form-control" required>
<form id="searchPlace" action="/map/search/">
  <input type="hidden" id="selected-location-id" name="locationId">
  <button type="submit">go</button>
</form>


<ul class="reports">
  <% reports.sort(function(a, b) {
    return new Date(b.date) - new Date(a.date);
    });
    for(var i=0; i<reports.length; i++) {%>
    <li>
      <span><%= reports[i].name %></span><br>
      <span><%= reports[i].date %></span><br>
      <span><%= reports[i].body %></span>
      <span id="long" hidden><%= reports[i].long %></span>
      <span id="lat" hidden><%= reports[i].lat %></span>
    </li>
  <% } %>
</ul>
<ul class="locations">
  <% for(var i=0; i<places.length; i++) {%>
    <li>
      <span id="name" hidden ><%= places[i].name %></span><br>
      <span id="long" hidden ><%= places[i].long %></span><br>
      <span id="lat" hidden ><%= places[i].lat %></span>
      <span id="reports" hidden ><%= places[i].reports %></span>
    </li>
  <% } %>
</ul>
<a href="/map">see all</a>
<script src="/mapMain.js"></script> 
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB7PigA3KZAJa5hqRGglC_uHD9g2BBbgME&callback=initMap"></script>
</body>
</html>